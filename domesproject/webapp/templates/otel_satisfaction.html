{%load static%}
<!DOCTYPE html>
<html lang="en">

{%include 'partials/_header.html'%}
    <!-- Navbar End -->


    
    <!-- templates/otel_memnuniyet.html -->
    {% comment %} <h2 class="text-center my-4">Otel Memnuniyeti Değerlendirmesi</h2>
    <div class="container">
        <form method="post" class="bg-light p-4 rounded shadow">
            {% csrf_token %}
            <div class="mb-3">
                {{ form.as_p }}
            </div>
            <button type="submit" class="btn btn-primary w-100">Gönder</button>
        </form>
    </div> {% endcomment %}

    <div class="container-fluid bg-light overflow-hidden px-lg-0" style="margin: 6rem 0;">
        <div class="container contact px-lg-0">
            <div class="row g-0 mx-lg-0">
                <div class="col-lg-10 contact-text py-5 wow fadeIn" data-wow-delay="0.5s">
                    <div class="p-lg-5 ps-lg-0">
                        <div class="section-title text-center">
                            <h1 class="display-5 mb-4">Otel Memnuniyeti Değerlendirmesi</h1>
                        </div>
                        <p class="mb-4 text-center">Otel deneyiminizle ilgili değerli geri dönüşlerinizi bizimle paylaşın. Her bir yorum, hizmet kalitemizi artırmamıza yardımcı olacaktır.</p>
                        <form method="post" enctype="multipart/form-data">  <!-- enctype eklendi -->
                            {% csrf_token %}
                            <div class="mb-3">
                                <label for="{{ form.musteri_adi.id_for_label }}" class="form-label">Müşteri Adı</label>
                                {{ form.musteri_adi }} 
                                {% if form.musteri_adi.errors %}
                                    <div class="text-danger">{{ form.musteri_adi.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                <label for="{{ form.yorum.id_for_label }}" class="form-label">Yorum</label>
                                {{ form.yorum }} 
                                {% if form.yorum.errors %}
                                    <div class="text-danger">{{ form.yorum.errors }}</div>
                                {% endif %}
                            </div>
                        
                            <div class="mb-3">
                                <label for="{{ form.yildiz.id_for_label }}" class="form-label">Yıldız Değerlendirmesi</label>
                                {{ form.yildiz }}
                                {% if form.yildiz.errors %}
                                    <div class="text-danger">{{ form.yildiz.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="mb-3">
                                <label for="{{ form.resim.id_for_label }}" class="form-label">Web Sitesinde Görünmesini İstediğiniz Resminizi Ekleyin (Opsiyonel)</label>
                                {{ form.resim }} 
                            </div>
                            <div class="mb-3">
                                <label for="{{ form.video.id_for_label }}" class="form-label">Memnuniyet Videosu (Opsiyonel)</label>
                                {{ form.video }} 
                            </div>

                            <!-- CAPTCHA alanı -->
                            <div class="mb-3">
                                <label for="{{ form.captcha.id_for_label }}" class="form-label">Güvenlik Kodu</label>
                                {{ form.captcha }}
                                {% if form.captcha.errors %}
                                    <div class="text-danger">Hatalı Captcha girdiniz! Tekrar Deneyin</div>
                                {% endif %}
                            </div>
                            <button class="btn btn-primary w-100 py-3" type="submit">Gönder</button>
                        </form>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>

        

    <!-- Footer Start -->
    {% include 'partials/_footer.html'%}


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded-0 back-to-top"><i class="bi bi-arrow-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="static/lib/wow/wow.min.js"></script>
    <script src="static/lib/easing/easing.min.js"></script>
    <script src="static/lib/waypoints/waypoints.min.js"></script>
    <script src="static/lib/counterup/counterup.min.js"></script>
    <script src="static/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="static/lib/isotope/isotope.pkgd.min.js"></script>
    <script src="static/lib/lightbox/js/lightbox.min.js"></script>
    <script>
        document.getElementById('otelMemnuniyetForm').addEventListener('submit', function(event) {
            // Zorunlu alanların doğrulama kontrolleri
            const musteriAdi = document.querySelector('[name="musteri_adi"]');
            const yorum = document.querySelector('[name="yorum"]');
            const yildiz = document.querySelector('[name="yildiz"]');
        
            // Alanlar boşsa uyarı vermek için kontrol
            if (!musteriAdi.value.trim() || !yorum.value.trim() || !yildiz.value.trim()) {
                alert("Zorunlu alanları doldurun.");
                event.preventDefault(); // Formun gönderilmesini durdur
            }
        });
        </script>
    <!-- Template Javascript -->
    <script src="static/js/main.js"></script>
    
</body>

</html>